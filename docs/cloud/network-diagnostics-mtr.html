<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cloud/network-diagnostics-mtr" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Network Diagnostics MTR | nanocosmos Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.nanocosmos.de/img/social-card.jpeg?v=2"><meta data-rh="true" name="twitter:image" content="https://docs.nanocosmos.de/img/social-card.jpeg?v=2"><meta data-rh="true" property="og:url" content="https://docs.nanocosmos.de/docs/cloud/network-diagnostics-mtr"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="live streaming, video live streaming, streaming, docs, developer docs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Network Diagnostics MTR | nanocosmos Docs"><meta data-rh="true" name="description" content="MTR is a powerful tool which enables administrators to diagnose and isolate networking errors and provide reports of network status to upstream providers. MTR represents an evolution of the traceroute command by providing a greater data sample, as if augmenting traceroute with ping output. This document provides an in depth overview of MTR, the data it generates, and how to interpret and draw conclusions based on the data provided by it."><meta data-rh="true" property="og:description" content="MTR is a powerful tool which enables administrators to diagnose and isolate networking errors and provide reports of network status to upstream providers. MTR represents an evolution of the traceroute command by providing a greater data sample, as if augmenting traceroute with ping output. This document provides an in depth overview of MTR, the data it generates, and how to interpret and draw conclusions based on the data provided by it."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.nanocosmos.de/docs/cloud/network-diagnostics-mtr"><link data-rh="true" rel="alternate" href="https://docs.nanocosmos.de/docs/cloud/network-diagnostics-mtr" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.nanocosmos.de/docs/cloud/network-diagnostics-mtr" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="nanocosmos Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="nanocosmos Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D55K07W445"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D55K07W445",{anonymize_ip:!0})</script>




<link rel="search" type="application/opensearchdescription+xml" title="nanocosmos Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.812d35d2.css">
<script src="/assets/js/runtime~main.92977eb8.js" defer="defer"></script>
<script src="/assets/js/main.a86be7ea.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.nanocosmos.de" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.svg" alt="nanocosmos Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="nanocosmos Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" sidebarid="nanoStream Cloud" href="/docs/cloud/cloud_overview">nanoStream Cloud</a><a class="navbar__item navbar__link" sidebarid="nanoStream Cloud Dashboard" href="/docs/dashboard/overview">Dashboard</a><a class="navbar__item navbar__link" sidebarid="H5Live Player" href="/docs/nanoplayer/nanoplayer_introduction">H5Live Player</a><a class="navbar__item navbar__link" sidebarid="Webcaster" href="/docs/webrtc/nanostream_webrtc_introduction">Webcaster</a><a class="navbar__item navbar__link" sidebarid="Analytics" href="/docs/cloud/analytics">Analytics</a><a class="navbar__item navbar__link" sidebarid="FAQ" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" sidebarid="Samples" href="/docs/samples">Samples</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Network Diagnostics MTR</h1></header><p><a href="http://www.bitwizard.nl/mtr/" target="_blank" rel="noopener noreferrer">MTR</a> is a powerful tool which enables administrators to diagnose and isolate networking errors and provide reports of network status to upstream providers. MTR represents an evolution of the <code>traceroute</code> command by providing a greater data sample, as if augmenting <code>traceroute</code> with <code>ping</code> output. This document provides an in depth overview of MTR, the data it generates, and how to interpret and draw conclusions based on the data provided by it.</p>
<p>For a basic overview of network diagnostic techniques, see our introduction to <a href="/docs/cloud/network-diagnostics#network-diagnostics">network diagnostics</a>. If you are having general issues with your system, read our overview of general <a href="/docs/cloud/support">system diagnostics</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-diagnostics-background">Network Diagnostics Background<a href="#network-diagnostics-background" class="hash-link" aria-label="Direct link to Network Diagnostics Background" title="Direct link to Network Diagnostics Background">​</a></h2>
<p>For a simple overview, check <a href="/docs/cloud/network-diagnostics">this document about network diagnostics</a>.
Networking diagnostic tools including <code>ping</code>, <code>traceroute</code>, and <code>mtr</code> use Internet Control Message Protocol (ICMP) packets to test contention and traffic between two points on the Internet. When a user pings a host on the Internet, a series of ICMP packets are sent to the host, which responds by sending packets in return. The user&#x27;s client is then able to compute the round trip time between two points on the Internet.</p>
<p>In contrast, tools such as traceroute and MTR send ICMP packets with incrementally increasing TTLs in order to view the route or series of hops that the packet makes between the origin and its destination. The TTL, or time to live, controls how many hops a packet will make before &quot;dying&quot; and returning to the host. By sending a series of packets and causing them to return after one hop, then two, then three, MTR is able to assemble the route that traffic takes between hosts on the Internet.</p>
<p>Rather than provide a simple outline of the route that traffic takes across the Internet, MTR collects additional information regarding the state, connection, and responsiveness of the intermediate hosts. Because of this additional information, MTR can provide a complete overview of the connection between two hosts on the Internet. The following sections outline how to install the MTR software and how to interpret the results provided by this tool.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-mtr">Install MTR<a href="#install-mtr" class="hash-link" aria-label="Direct link to Install MTR" title="Direct link to Install MTR">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux">Linux<a href="#linux" class="hash-link" aria-label="Direct link to Linux" title="Direct link to Linux">​</a></h3>
<p><strong>Debian/Ubuntu</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apt update &amp;&amp; apt upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apt install mtr-tiny</span><br></span></code></pre></div></div>
<p><strong>CentOS/RHEL/Fedora</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum install mtr</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows">Windows<a href="#windows" class="hash-link" aria-label="Direct link to Windows" title="Direct link to Windows">​</a></h3>
<p>For Windows there is a port of MTR called &quot;WinMTR&quot;. You can download this application from the <a href="https://sourceforge.net/projects/winmtr/" target="_blank" rel="noopener noreferrer">WinMTR upstream</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="macos">macOS<a href="#macos" class="hash-link" aria-label="Direct link to macOS" title="Direct link to macOS">​</a></h3>
<p>Install MTR on macOS with either <a href="http://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a> or <a href="http://www.macports.org/" target="_blank" rel="noopener noreferrer">MacPorts</a>. To install MTR with Homebrew, run:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install mtr</span><br></span></code></pre></div></div>
<p>To install MTR with MacPorts, run:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">port install mtr</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="generate-an-mtr-report">Generate an MTR Report<a href="#generate-an-mtr-report" class="hash-link" aria-label="Direct link to Generate an MTR Report" title="Direct link to Generate an MTR Report">​</a></h2>
<p>Because MTR provides an image of the route traffic takes from one host to another, it is essentially a directional tool. The route taken between two points on the Internet can vary a great deal based on location and the routers that are located upstream. For this reason it is a good idea to collect MTR reports in both directions for all hosts that are experiencing connectivity issues.</p>
<p>Customer Support will often request MTR reports both <strong>to</strong> and <strong>from</strong> your host if you are experiencing networking issues. This is because, from time to time, MTR reports will not detect errors from one direction when there is still packet loss from the opposite direction.</p>
<p>When referring to MTR reports, this document refers to the host running <code>mtr</code> as the <strong>source host</strong> and the host targeted by the query as the <strong>destination host</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-mtr-on-unix-based-systems">Use MTR on Unix-based Systems<a href="#use-mtr-on-unix-based-systems" class="hash-link" aria-label="Direct link to Use MTR on Unix-based Systems" title="Direct link to Use MTR on Unix-based Systems">​</a></h3>
<p>Generate MTR reports using the following syntax:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mtr -rw [destination_host]</span><br></span></code></pre></div></div>
<p>For example, to test the route and connection quality of traffic to the destination host <code>example.com</code>:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mtr -rw example.com</span><br></span></code></pre></div></div>
<p>An MTR report can be run from your local computer. Replace <code>google.com</code> with the internet host name you would like to check:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mtr -rw google.com</span><br></span></code></pre></div></div>
<p>If you have a way to login to a remote computer, you can also check the reverse connection to the IP address of your home network.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mtr -rw 198.51.100.0</span><br></span></code></pre></div></div>
<p>If you don&#x27;t know your home IP address, use <a href="http://whatismyip.com/" target="_blank" rel="noopener noreferrer">WhatIsMyIP.com</a>.</p>
<p>If no packet loss is detected, a support technician may ask you to run a faster interval:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mtr -rwc 50 -i 0.2 -rw google.com</span><br></span></code></pre></div></div>
<p>On some systems, using this flag may require administrative privileges:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo mtr -rwc 50 -i 0.2 -rw google.com</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The <code>r</code> option flag generates the report (short for <code>--report</code>).</p><p>The <code>w</code> option flag uses the long-version of the hostname so our technicians and you can see the full hostname of each hop (short for <code>--report-wide</code>).</p><p>The <code>c</code> option flag sets how many packets are sent and recorded in the report. When not used, the default will generally be 10, but for faster intervals you may want to set it to 50 or 100. The report can take longer to finish when doing this.</p><p>The <code>i</code> option flag runs the report at a faster rate to reveal packet loss that can occur only during network congestion. This flag instructs MTR to send one packet every <em>n</em> seconds. The default is 1 second, so setting it to a few tenths of a second (0.1, 0.2, etc.) is generally helpful.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-mtr-on-windows-systems">Use MTR on Windows Systems<a href="#use-mtr-on-windows-systems" class="hash-link" aria-label="Direct link to Use MTR on Windows Systems" title="Direct link to Use MTR on Windows Systems">​</a></h3>
<p>Running MTR on Windows uses a GUI. Open WinMTR, type the destination host in the box as prompted, and select the start option to begin generating report data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="read-mtr-reports">Read MTR Reports<a href="#read-mtr-reports" class="hash-link" aria-label="Direct link to Read MTR Reports" title="Direct link to Read MTR Reports">​</a></h2>
<p>Because MTR reports contain a great deal of information, they can be difficult to interpret at first. The following example is a report from a local connection to <code>google.com</code>:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ mtr --report google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: example                       Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. inner-cake                    0.0%    10    2.8   2.1   1.9   2.8   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. outer-cake                    0.0%    10    3.2   2.6   2.4   3.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 68.85.118.13                  0.0%    10    9.8  12.2   8.7  18.2   3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. be-30-crs01.audubon.nj.panjd  0.0%    10   10.8  12.2  10.1  16.6   1.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. pos-0-12-0-0-ar01.plainfield  0.0%    10   13.4  14.6  12.6  21.6   2.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. pos-0-4-0-0-pe01.111eighthav  0.0%    10   16.5  16.2  14.5  19.3   1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. as15169-3.111eighthave.ny.ib  0.0%    10   16.0  17.1  14.2  27.7   3.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. 72.14.238.232                 0.0%    10   19.1  22.0  13.9  43.3  11.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    9. lga15s02-in-f104.1e100.net    0.0%    10   15.6  16.9  15.2  20.6   1.7</span><br></span></code></pre></div></div>
<p>The report was generated with <code>mtr --report google.com</code>. This uses the <code>report</code> option, which sends 10 packets to the host <code>google.com</code> and generates a report. Without the <code>--report</code> option, <code>mtr</code> will run continuously in an interactive environment. The interactive mode reflects current round trip times to each host. In most cases, the <code>--report</code> mode provides sufficient data in a useful format.</p>
<p>Each numbered line in the report represents a <strong>hop</strong>. Hops are the Internet nodes that packets pass through to get to their destination. The names for the hosts (e.g. &quot;inner-cake&quot; and &quot;outer-cake&quot; in the example) are determined by reverse DNS lookups. If you want to omit the rDNS lookups you can use the <code>--no-dns</code> option, which produces output similar to the following:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% mtr --no-dns --report google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: deleuze                       Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 192.168.1.1                   0.0%    10    2.2   2.2   2.0   2.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 68.85.118.13                  0.0%    10    8.6  11.0   8.4  17.8   3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 68.86.210.126                 0.0%    10    9.1  12.1   8.5  24.3   5.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. 68.86.208.22                  0.0%    10   12.2  15.1  11.7  23.4   4.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 75.149.230.194                0.0%    10   15.0  20.1  15.0  33.8   5.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 72.14.238.232                 0.0%    10   15.6  18.7  14.1  32.8   5.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 209.85.241.148                0.0%    10   16.3  16.9  14.7  21.2   2.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. 66.249.91.104                 0.0%    10   22.2  18.6  14.2  36.0   6.5</span><br></span></code></pre></div></div>
<p>Beyond simply seeing the path between servers that packets take to reach their host, MTR provides valuable statistics regarding the durability of that connection in the seven columns that follow. The <code>Loss%</code> column shows the percentage of packet loss at each hop. The <code>Snt</code> column counts the number of packets sent. The <code>--report</code> option will send 10 packets unless specified with <code>--report-cycles=[number-of-packets]</code>, where <code>[number-of-packets]</code> represents the total number of packets that you want to send to the remote host.</p>
<p>The next four columns <code>Last</code>, <code>Avg</code>, <code>Best</code>, and <code>Wrst</code> are all measurements of latency in milliseconds (e.g. <code>ms</code>). <code>Last</code> is the latency of the last packet sent, <code>Avg</code> is average latency of all packets, while <code>Best</code> and <code>Wrst</code> display the best (shortest) and worst (longest) round trip time for a packet to this host. In most cases, the average (<code>Avg</code>) column should be the focus of your attention.</p>
<p>The final column, <code>StDev</code>, provides the standard deviation of the latencies to each host. The higher the standard deviation, the greater the difference is between measurements of latency. Standard deviation allows you to assess if the mean (average) provided represents the true center of the data set, or has been skewed by some sort of phenomena or measurement error. If the standard deviation is high, the latency measurements were inconsistent. After averaging the latencies of the 10 packets sent, the average looks normal but may in fact not represent the data very well. If the standard deviation is high, take a look at the best and worst latency measurements to make sure the average is a good representation of the actual latency and not the result of too much fluctuation.</p>
<p>In most circumstances, you may think of the MTR output in three major sections. Depending on configurations, the first 2 or 3 hops often represent the source host&#x27;s ISP, while the last 2 or 3 hops represent the destination host&#x27;s ISP. The hops in between are the routers the packet traverses to reach its destination.</p>
<p>For example, if MTR is run from your home PC, the first 2 or 3 hops belong to your ISP. The last 3 hops belong to the data center where the service resides. Any hops in the middle are intermediate hops. When running MTR locally, if you see an abnormality in the first few hops near the source, contact your local service provider or investigate your local networking configuration. Conversely, if you see abnormalities near the destination you may want to contact the operator of the destination server or network support for that machine. Unfortunately, in cases where there are problems on the intermediate hops, both service providers will have limited ability to address the issue.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="analyze-mtr-reports">Analyze MTR Reports<a href="#analyze-mtr-reports" class="hash-link" aria-label="Direct link to Analyze MTR Reports" title="Direct link to Analyze MTR Reports">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-packet-loss">Verify Packet Loss<a href="#verify-packet-loss" class="hash-link" aria-label="Direct link to Verify Packet Loss" title="Direct link to Verify Packet Loss">​</a></h3>
<p>When analyzing MTR output, you are looking for two things: loss and latency. If you see a percentage of loss at any particular hop, that may be an indication that there is a problem with that particular router. However, it is common practice among some service providers to rate limit the ICMP traffic that MTR uses. This can give the illusion of packet loss when there is in fact no loss. To determine if the loss you&#x27;re seeing is real or due to rate limiting, take a look at the subsequent hop. If that hop shows a loss of 0.0%, then you are likely seeing ICMP rate limiting and not actual loss:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: example                       Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                50.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 72.14.233.56                  0.0%    10    7.2   8.3   7.1  16.4   2.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 209.85.254.247                0.0%    10   39.1  39.4  39.1  39.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net          0.0%    10   39.6  40.5  39.5  46.7   2.2</span><br></span></code></pre></div></div>
<p>In this case, the loss reported between hops 1 and 2 is likely due to rate limiting on the second hop. Although traffic to the remaining eight hops all touch the second hop, there is no packet loss. If the loss continues for more than one hop, than it is possible that there is some packet loss or routing issues. Remember that rate limiting and loss can happen concurrently. In this case, take the lowest percentage of loss in a sequence as the actual loss:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                     Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                   0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                  0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                60.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        60.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 72.14.233.56                  50.0%   10    7.2   8.3   7.1  16.4   2.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 209.85.254.247                40.0%   10   39.1  39.4  39.1  39.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 40.0%   10   39.6  40.4  39.4  46.9   2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net          40.0%   10   39.6  40.5  39.5  46.7   2.2</span><br></span></code></pre></div></div>
<p>In this case, there is 60% loss between hops 2 and 3 as well as between hops 3 and 4. You can assume that the third and fourth hop is likely losing some amount of traffic because no subsequent host reports zero loss. However, some of the loss is due to rate limiting as several of the final hops are only experiencing 40% loss. When different amounts of loss are reported, always trust the reports from later hops.</p>
<p>Some loss can also be explained by problems in the return route. Packets will reach their destination without error, but have a hard time making the return trip. For this reason it is often best to collect MTR reports in both directions when you&#x27;re experiencing an issue.</p>
<p>Resist the temptation to investigate or report all incidences of packet loss in your connections. The Internet protocols are designed to be resilient to some network degradation, and the routes that data takes across the Internet can fluctuate in response to load, brief maintenance events, and other routing issues. If your MTR report shows small amounts of loss in the neighborhood of 10%, there is no cause for real concern as the application layer will compensate for the loss which is likely transient.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-latency">Network Latency<a href="#network-latency" class="hash-link" aria-label="Direct link to Network Latency" title="Direct link to Network Latency">​</a></h3>
<p>In addition to helping you assess packet loss, MTR will also help assess the latency of a connection between your host and the target host. By virtue of physical constraints, latency always increases with the number of hops in a route. However, the increases should be consistent and linear. Unfortunately, latency is often relative and very dependent on the quality of both host&#x27;s connections and their physical distance. When evaluating MTR reports for potentially problematic connections, consider earlier fully functional reports as context in addition to known connection speeds between other hosts in a given area.</p>
<p>The connection quality may also affect the amount of latency you experience for a particular route. Predictably, dial-up connections will have much higher latency than cable modem connections to the same destination. The following MTR report shows a high latency:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                     Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10  388.0 360.4 342.1 396.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 72.14.233.56                  0.0%    10  390.6 360.4 342.1 396.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 209.85.254.247                0.0%    10  391.6 360.4 342.1 396.7   0.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 0.0%    10  391.8 360.4 342.1 396.7   2.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net          0.0%    10  392.0 360.4 342.1 396.7   1.2</span><br></span></code></pre></div></div>
<p>The amount of latency jumps significantly between hops 3 and 4 and remains high. This may point to a network latency issue as round trip times remain high after the fourth hop. From this report, it is impossible to determine the cause although a saturated peering session, a poorly configured router, or a congested link are frequent causes.</p>
<p>Unfortunately, high latency does not always mean a problem with the current route. A report like the one above means that despite some sort of issue with the 4th hop, traffic is still reaching the destination host <em>and</em> returning to the source host. Latency could be caused by a problem with the return route as well. The return route will not be seen in your MTR report, and packets can take completely different routes to and from a particular destination.</p>
<p>In the above example, while there is a large jump in latency between hosts 3 and 4 the latency does not increase unusually in any subsequent hops. From this it is logical to assume that there is some issue with the 4th router.</p>
<p>ICMP rate limiting can also create the appearance of latency, similar to the way that it can create the appearance of packet loss:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                     Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 72.14.233.56                  0.0%    10  254.2 250.3 230.1 263.4   2.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 209.85.254.247                0.0%    10   39.1  39.4  39.1  39.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net          0.0%    10   39.6  40.5  39.5  46.7   2.2</span><br></span></code></pre></div></div>
<p>At first glance, the latency between hops 4 and 5 draws attention. However after the fifth hop, the latency drops drastically. The actual latency measured here is about 40ms. In cases like this, MTR draws attention to an issue which does not affect the service. Consider the latency to the final hop when evaluating an MTR report.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-mtr-reports">Common MTR Reports<a href="#common-mtr-reports" class="hash-link" aria-label="Direct link to Common MTR Reports" title="Direct link to Common MTR Reports">​</a></h2>
<p>Some networking issues are novel and require escalation to the operators of the upstream networks. However, there are a selection of common MTR reports that describe common networking issues. If you&#x27;re experiencing some sort of networking issue and want to diagnose your problem, consider the following examples.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="destination-host-networking-improperly-configured">Destination Host Networking Improperly Configured<a href="#destination-host-networking-improperly-configured" class="hash-link" aria-label="Direct link to Destination Host Networking Improperly Configured" title="Direct link to Destination Host Networking Improperly Configured">​</a></h3>
<p>In the next example, it appears that there is 100% loss to the destination host because of an incorrectly configured router. At first glance it appears that the packets are not reaching the host but this is not the case.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                     Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 72.14.233.56                  0.0%    10    7.2   8.3   7.1  16.4   2.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 209.85.254.247                0.0%    10   39.1  39.4  39.1  39.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net         100.0    10    0.0   0.0   0.0   0.0   0.0</span><br></span></code></pre></div></div>
<p>The traffic does reach the destination host. However, the MTR report shows loss because the destination host is not sending a reply. This may be the result of improperly configured networking or firewall (iptables) rules that cause the host to drop ICMP packets.</p>
<p>The way you can tell that the loss is due to a misconfigured host is to look at the hop which shows 100% loss. From previous reports, you see that this is the final hop and that MTR does not try additional hops. While it is difficult to isolate this issue without a baseline measurement, these kinds of errors are quite common.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="residential-or-business-router">Residential or Business Router<a href="#residential-or-business-router" class="hash-link" aria-label="Direct link to Residential or Business Router" title="Direct link to Residential or Business Router">​</a></h3>
<p>Residential gateways sometimes cause misleading reports:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">% mtr --no-dns --report google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: deleuze                       Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 192.168.1.1                   0.0%    10    2.2   2.2   2.0   2.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. ???                          100.0    10    8.6  11.0   8.4  17.8   3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 68.86.210.126                 0.0%    10    9.1  12.1   8.5  24.3   5.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. 68.86.208.22                  0.0%    10   12.2  15.1  11.7  23.4   4.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 68.85.192.86                  0.0%    10   17.2  14.8  13.2  17.2   1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 75.149.230.194                0.0%    10   15.0  20.1  15.0  33.8   5.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 72.14.238.232                 0.0%    10   15.6  18.7  14.1  32.8   5.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. 209.85.241.148                0.0%    10   16.3  16.9  14.7  21.2   2.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    9. 66.249.91.104                 0.0%    10   22.2  18.6  14.2  36.0   6.5</span><br></span></code></pre></div></div>
<p>The 100% loss reported at the second hop does not indicate that there is a problem. You can see that there is no loss on subsequent hops.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="an-isp-router-is-not-configured-properly">An ISP Router Is Not Configured Properly<a href="#an-isp-router-is-not-configured-properly" class="hash-link" aria-label="Direct link to An ISP Router Is Not Configured Properly" title="Direct link to An ISP Router Is Not Configured Properly">​</a></h3>
<p>Sometimes a router on the route your packet takes is incorrectly configured and your packets may never reach their destination:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                   Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. ???                           0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. ???                           0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. ???                           0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. ???                           0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span></code></pre></div></div>
<p>The question marks appear when there is no additional route information. Sometimes, a poorly configured router will send packets in a loop. You can see that in the following example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                   Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 12.34.56.78                   0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 12.34.56.78                   0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 12.34.56.79                   0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. ???                           0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    9. ???                           0.0%    10    0.0   0.0   0.0   0.0   0.0</span><br></span></code></pre></div></div>
<p>These reports show that the router at hop 4 is not properly configured. When these situations occur, the only way to resolve the issue is to contact the network administrator&#x27;s team of operators at the source host.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="icmp-rate-limiting">ICMP Rate Limiting<a href="#icmp-rate-limiting" class="hash-link" aria-label="Direct link to ICMP Rate Limiting" title="Direct link to ICMP Rate Limiting">​</a></h3>
<p>ICMP rate limiting can cause apparent packet loss. When there is packet loss to one hop that doesn&#x27;t persist to subsequent hops, the loss is caused by ICMP limiting. See the following example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                   Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. 72.14.233.56                 60.0%    10   27.2  25.3  23.1  26.4   2.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. 209.85.254.247                0.0%    10   39.1  39.4  39.1  39.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net          0.0%    10   39.6  40.5  39.5  46.7   2.2</span><br></span></code></pre></div></div>
<p>This report does not show a cause for concern. Rate limiting is a common practice and it reduces congestion to prioritize more important traffic.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeouts">Timeouts<a href="#timeouts" class="hash-link" aria-label="Direct link to Timeouts" title="Direct link to Timeouts">​</a></h3>
<p>Timeouts can happen for various reasons. Some routers will discard ICMP and absent replies will be shown on the output as timeouts (<code>???</code>). Alternatively there may be a problem with the return route:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@localhost:~# mtr --report www.google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOST: localhost                   Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1. 63.247.74.43                  0.0%    10    0.3   0.6   0.3   1.2   0.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    2. 63.247.64.157                 0.0%    10    0.4   1.0   0.4   6.1   1.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    3. 209.51.130.213                0.0%    10    0.8   2.7   0.8  19.0   5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    4. aix.pr1.atl.google.com        0.0%    10    6.7   6.8   6.7   6.9   0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    5. ???                           0.0%    10    7.2   8.3   7.1  16.4   2.9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    6. ???                           0.0%    10   39.1  39.4  39.1  39.7   0.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    7. 64.233.174.46                 0.0%    10   39.6  40.4  39.4  46.9   2.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8. gw-in-f147.1e100.net          0.0%    10   39.6  40.5  39.5  46.7   2.2</span><br></span></code></pre></div></div>
<p>Timeouts are not necessarily an indication of packet loss. Packets still reach their destination without significant packet loss or latency. Timeouts may be attributable to routers dropping packets for QoS (quality of service) purposes or there may be some issue with return routes causing the timeouts. This is another false positive.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-mtr-techniques">Advanced MTR techniques<a href="#advanced-mtr-techniques" class="hash-link" aria-label="Direct link to Advanced MTR techniques" title="Direct link to Advanced MTR techniques">​</a></h2>
<p>Newer versions of MTR are capable of running in TCP mode on a specified TCP port, instead of the ICMP (ping) protocol. In some instances network degradation will only affect certain ports or misconfigured firewall rules on a router may block a certain protocol. Running MTR over a certain port can show packet loss where the default ICMP report may not.</p>
<p>Running MTR in TCP mode will require sudo privileges on most machines:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo mtr -P 80 -i 0.5 -rwc 50 example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mtr -P 22 -i 0.5 -rwc 50 example.com</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resolve-routing-and-networking-issues-identified-in-your-mtr-report">Resolve Routing and Networking Issues Identified in your MTR report<a href="#resolve-routing-and-networking-issues-identified-in-your-mtr-report" class="hash-link" aria-label="Direct link to Resolve Routing and Networking Issues Identified in your MTR report" title="Direct link to Resolve Routing and Networking Issues Identified in your MTR report">​</a></h2>
<p>A majority of routing issues displayed by MTR reports are temporary. Most issues will clear up by themselves within 24 hours. In most cases, by the time you are able to notice a problem with a route, the Internet service provider&#x27;s monitoring has already reported the problem and administrators are working to fix the issue. In cases where you are experiencing degraded service for an extended period of time, you may choose to alert a provider of the issues you&#x27;re experiencing. When contacting a service provider, send MTR reports and any other relevant data you may have. Without usable data, providers have no way to verify or fix problems.</p>
<p>While routing errors and issues account for a percentage of network-related slowness, they are by no means the only cause of degraded performance. Network congestion, particularly over long distances during peak times, can become severe. Trans-Atlantic and trans-Pacific traffic can be quite variable and are subject to general network congestion. In these cases, it is recommended that you position hosts and resources as geographically close to their targeted audience as possible.</p>
<p>If you are experiencing connectivity issues and are unable to interpret your MTR report, open a support ticket. Include the output of your report and our technicians can help analyze your issue.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-07-04T08:43:48.000Z" itemprop="dateModified">Jul 4, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#network-diagnostics-background" class="table-of-contents__link toc-highlight">Network Diagnostics Background</a></li><li><a href="#install-mtr" class="table-of-contents__link toc-highlight">Install MTR</a><ul><li><a href="#linux" class="table-of-contents__link toc-highlight">Linux</a></li><li><a href="#windows" class="table-of-contents__link toc-highlight">Windows</a></li><li><a href="#macos" class="table-of-contents__link toc-highlight">macOS</a></li></ul></li><li><a href="#generate-an-mtr-report" class="table-of-contents__link toc-highlight">Generate an MTR Report</a><ul><li><a href="#use-mtr-on-unix-based-systems" class="table-of-contents__link toc-highlight">Use MTR on Unix-based Systems</a></li><li><a href="#use-mtr-on-windows-systems" class="table-of-contents__link toc-highlight">Use MTR on Windows Systems</a></li></ul></li><li><a href="#read-mtr-reports" class="table-of-contents__link toc-highlight">Read MTR Reports</a></li><li><a href="#analyze-mtr-reports" class="table-of-contents__link toc-highlight">Analyze MTR Reports</a><ul><li><a href="#verify-packet-loss" class="table-of-contents__link toc-highlight">Verify Packet Loss</a></li><li><a href="#network-latency" class="table-of-contents__link toc-highlight">Network Latency</a></li></ul></li><li><a href="#common-mtr-reports" class="table-of-contents__link toc-highlight">Common MTR Reports</a><ul><li><a href="#destination-host-networking-improperly-configured" class="table-of-contents__link toc-highlight">Destination Host Networking Improperly Configured</a></li><li><a href="#residential-or-business-router" class="table-of-contents__link toc-highlight">Residential or Business Router</a></li><li><a href="#an-isp-router-is-not-configured-properly" class="table-of-contents__link toc-highlight">An ISP Router Is Not Configured Properly</a></li><li><a href="#icmp-rate-limiting" class="table-of-contents__link toc-highlight">ICMP Rate Limiting</a></li><li><a href="#timeouts" class="table-of-contents__link toc-highlight">Timeouts</a></li></ul></li><li><a href="#advanced-mtr-techniques" class="table-of-contents__link toc-highlight">Advanced MTR techniques</a></li><li><a href="#resolve-routing-and-networking-issues-identified-in-your-mtr-report" class="table-of-contents__link toc-highlight">Resolve Routing and Networking Issues Identified in your MTR report</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">nanoStream Cloud</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dashboard.nanostream.cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://info.nanocosmos.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Overview<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://info.nanocosmos.de/interactivelivestreaming/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Use Cases<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/buy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pricing<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://info.nanocosmos.de/free-trial/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Free Trial<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/blog/jobs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Career<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.nanocosmos.de/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/nanocosmos/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/nanocosmos-gmbh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.instagram.com/nanovideo" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@nanocosmos" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://info.nanocosmos.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.nanocosmos.de/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.nanocosmos.de/" target="_self" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/nanostream.png" alt="nanocosmos Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="160"><img src="/img/nanostream.png" alt="nanocosmos Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="160"></a></div><div class="footer__copyright">Copyright © 2025. nanocosmos GmbH</div></div></div></footer></div>
</body>
</html>