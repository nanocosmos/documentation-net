"use strict";(self.webpackChunknanocosomos_documentation=self.webpackChunknanocosomos_documentation||[]).push([[1384],{5444:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"nanoplayer/nanoplayer_feature_stream_switching","title":"Stream switching and ABR","description":"Multi stream configuration, integrated ABR and stream switching features","source":"@site/docs/nanoplayer/nanoplayer_feature_stream_switching.md","sourceDirName":"nanoplayer","slug":"/nanoplayer/nanoplayer_feature_stream_switching","permalink":"/docs/nanoplayer/nanoplayer_feature_stream_switching","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1751618628000,"frontMatter":{"id":"nanoplayer_feature_stream_switching","title":"Stream switching and ABR","sidebar_label":"Stream switching and ABR"},"sidebar":"H5Live Player","previous":{"title":"Secure playback with H5Live","permalink":"/docs/nanoplayer/nanoplayer_token_security"},"next":{"title":"Fullscreen API","permalink":"/docs/nanoplayer/nanoplayer_feature_fullscreen_api"}}');var s=t(74848),r=t(28453);const a={id:"nanoplayer_feature_stream_switching",title:"Stream switching and ABR",sidebar_label:"Stream switching and ABR"},l=void 0,o={},h=[{value:"Multi stream configuration, integrated ABR and stream switching features",id:"multi-stream-configuration-integrated-abr-and-stream-switching-features",level:2},{value:"Configuration changes",id:"configuration-changes",level:2},{value:"Stream configuration",id:"stream-configuration",level:3},{value:"ABR stream group configuration",id:"abr-stream-group-configuration",level:3},{value:"Single Stream configuration",id:"single-stream-configuration",level:3},{value:"Example OLD single stream configuration (DEPRECATED)",id:"example-old-single-stream-configuration-deprecated",level:4},{value:"Example single stream configuration",id:"example-new-single-stream-configuration",level:4},{value:"Multi stream configuration",id:"multi-stream-configuration",level:3},{value:"Example multi stream configuration (with ABR)",id:"example-multi-stream-configuration-with-abr",level:4},{value:"Example multi stream configuration (with ABR) and playback security",id:"example-multi-stream-configuration-with-abr-and-playback-security",level:4},{value:"Example bintu multi stream configuration (with ABR)",id:"example-bintu-multi-stream-configuration-with-abr",level:4},{value:"Example bintu multi stream configuration (with ABR) and playback security",id:"example-bintu-multi-stream-configuration-with-abr-and-playback-security",level:4},{value:"Switch options",id:"switch-options",level:3},{value:"Automatic bitrate adaption (ABR)",id:"automatic-bitrate-adaption-abr",level:2},{value:"How to use",id:"how-to-use",level:3},{value:"Advanced ABR settings",id:"advanced-abr-settings",level:3},{value:"Quality Omission",id:"quality-omission",level:4},{value:"Quality Down Switch Adjustment",id:"quality-down-switch-adjustment",level:4},{value:"Example multi stream configuration (with ABR)",id:"example-multi-stream-configuration-with-abr-1",level:3},{value:"switchStream API",id:"switchstream-api",level:2},{value:"How to use",id:"how-to-use-1",level:3},{value:"switchStream events",id:"switchstream-events",level:3},{value:"Start Event",id:"start-event",level:4},{value:"Completion Events",id:"completion-events",level:4},{value:"Difference switchStream API / updateSource API",id:"difference-switchstream-api--updatesource-api",level:3},{value:"setAdaption API",id:"setadaption-api",level:2},{value:"Example to set automatic adaption",id:"example-to-set-automatic-adaption",level:3},{value:"Combined ABR and manual switching",id:"combined-abr-and-manual-switching",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"multi-stream-configuration-integrated-abr-and-stream-switching-features",children:"Multi stream configuration, integrated ABR and stream switching features"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"nanoStream H5Live Player Version 4.3"})," is introducing new features related to stream switching and integrated adaptive bitrate playback enabling automatic and application/viewer controlled stream switching either separately or in combination.\nOne potential combined use case is a video quality selection offering options auto, high, medium, low to the viewer."]}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,s.jsxs)(n.p,{children:["To start using the stream switching feature make sure you're using the minimum required nanoStream H5Live Player version ",(0,s.jsx)(n.strong,{children:"4.3"})," !"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"configuration-changes",children:"Configuration changes"}),"\n",(0,s.jsx)(n.h3,{id:"stream-configuration",children:"Stream configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Whether you want to configure a ",(0,s.jsx)(n.a,{href:"#single-stream-configuration",children:"single stream"})," or ",(0,s.jsx)(n.a,{href:"#multi-stream-configuration",children:"multiple streams"})," you need to configure them inside the ",(0,s.jsx)(n.code,{children:"config.source.entries"})," object during the initial ",(0,s.jsx)(n.code,{children:"setup"})," call."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["You can find more information on how to configure the player in our ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#nanoplayerconfig--codeobjectcode",children:"API documentation"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"abr-stream-group-configuration",children:"ABR stream group configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Please find more information about stream group configuration ",(0,s.jsx)(n.a,{href:"./nanoplayer_feature_stream_group_configuration",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"single-stream-configuration",children:"Single Stream configuration"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"#example-old-single-stream-configuration-deprecated",children:"old pattern"})," to configure a single stream is ",(0,s.jsx)(n.strong,{children:"deprecated"})," with this version! Please follow this ",(0,s.jsx)(n.a,{href:"#example-new-single-stream-configuration",children:"new example"})," to configure a single stream."]}),"\n",(0,s.jsx)(n.h4,{id:"example-old-single-stream-configuration-deprecated",children:"Example OLD single stream configuration (DEPRECATED)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "h5live": {\n            "rtmp": {\n                "url": "rtmp://bintu-play.nanocosmos.de/play",\n                "streamname": "XXXXX-YYYYY"\n            },\n            "server": {\n                "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n            },\n            "token": "",\n            "security": {}\n        }\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.h4,{id:"example-new-single-stream-configuration",children:"Example single stream configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "entries": [\n            {\n                "index": 0,\n                "label": "high",\n                "tag": "this is a high quality stream",\n                "info": {\n                    "bitrate": 1200,\n                    "width": 1280,\n                    "height": 720,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYYY"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            }\n        ]\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multi-stream-configuration",children:"Multi stream configuration"}),"\n",(0,s.jsxs)(n.p,{children:["You can configure a list of multiple streams inside the ",(0,s.jsx)(n.code,{children:"config.source.entries"})," object.\nDepending on the intended use case these can be:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"multi-bitrate renditions of the same content"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"multiple streams of different content."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"note",type:"tip",children:(0,s.jsx)(n.p,{children:"The nanoStream transcoding service allows a single stream to be delivered in different multi-bitrate qualities eg. high (original) transcoded in medium and low quality."})}),"\n",(0,s.jsxs)(n.p,{children:["The entries need to be ordered by bitrate with ",(0,s.jsx)(n.strong,{children:"index zero"})," holding the ",(0,s.jsx)(n.strong,{children:"highest bitrate"}),".\nThe initial stream/rendition can be selected by assigning ",(0,s.jsx)(n.code,{children:"config.source.startIndex"})," to the index of an entry."]}),"\n",(0,s.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,s.jsxs)(n.p,{children:["Multi stream configuration is ",(0,s.jsx)(n.strong,{children:"required"})," for both the integrated ",(0,s.jsx)(n.strong,{children:"ABR"})," and also the ",(0,s.jsx)(n.strong,{children:"switchStream"})," feature!"]})}),"\n",(0,s.jsx)(n.h4,{id:"example-multi-stream-configuration-with-abr",children:"Example multi stream configuration (with ABR)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "entries": [ // array of \'entry\' objects\n            {\n                "index": 0,\n                "label": "high",\n                "tag": "this is a high quality stream",\n                "info": {\n                    "bitrate": 1200,\n                    "width": 1280,\n                    "height": 720,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYY0"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            },\n            {\n                "index": 1,\n                "label": "medium",\n                "tag": "this is a medium quality stream",\n                "info": {\n                    "bitrate": 800,\n                    "width": 864,\n                    "height": 480,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYY1"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            },\n            {\n                "index": 2,\n                "label": "low",\n                "tag": "this is a low quality stream",\n                "info": {\n                    "bitrate": 400,\n                    "width": 426,\n                    "height": 240,\n                    "framerate": 15\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYY2"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            }\n        ],\n        "options": {\n            "adaption": {\n                "rule": "deviationOfMean2" // enable ABR\n            },\n            "switch": {\n                \'method\': \'server\',\n                \'pauseOnError\': false,\n                \'forcePlay\': true,\n                \'fastStart\': false,\n                \'timeout\': 10,\n            }\n        },\n        "startIndex": 2 // lowest\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.admonition,{title:"Note",type:"info",children:(0,s.jsxs)(n.p,{children:["In case you either provide an invalid ",(0,s.jsx)(n.code,{children:"startIndex"})," or don't provide one at all the player starts the stream with index 0. ",(0,s.jsx)("br",{}),"\nThe player will set the default adaption rule none if no adaption rule is passed. You can still switch between your pre-configured entries manually with the switchStream API."]})}),"\n",(0,s.jsx)(n.h4,{id:"example-multi-stream-configuration-with-abr-and-playback-security",children:"Example multi stream configuration (with ABR) and playback security"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "entries": [ // array of \'entry\' objects\n            {\n                "index": 0,\n                "label": "high",\n                "tag": "this is a high quality stream",\n                "info": {\n                    "bitrate": 1200,\n                    "width": 1280,\n                    "height": 720,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-splay.nanocosmos.de/splay",\n                        "streamname": "XXXXX-YYYY0"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live-secure.nanocosmos.de:443/h5live/authstream/stream.mp4",\n                        "hls": "https://bintu-h5live-secure.nanocosmos.de:443/h5live/authhttp/playlist.m3u8",\n                        "progressive": "https://bintu-h5live-secure.nanocosmos.de:443/h5live/authhttp/stream.mp4"\n                    },\n                    "token": "",\n                    // security for streamname XXXXX-YYYY0 here\n                    "security": {\n                        "token": "TOKEN_HERE",\n                        "expires": "EXPIRES_HERE",\n                        "options": "OPTIONS_HERE",\n                        "tag": "TAG_HERE"\n                    }\n                },\n                "bintu": {}\n            },\n            {\n                "index": 1,\n                "label": "medium",\n                "tag": "this is a medium quality stream",\n                "info": {\n                    "bitrate": 800,\n                    "width": 864,\n                    "height": 480,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-splay.nanocosmos.de/splay",\n                        "streamname": "XXXXX-YYYY1"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live-secure.nanocosmos.de:443/h5live/authstream/stream.mp4",\n                        "hls": "https://bintu-h5live-secure.nanocosmos.de:443/h5live/authhttp/playlist.m3u8",\n                        "progressive": "https://bintu-h5live-secure.nanocosmos.de:443/h5live/authhttp/stream.mp4"\n                    },\n                    "token": "",\n                    // security for streamname XXXXX-YYYY1 here\n                    "security": {\n                        "token": "TOKEN_HERE",\n                        "expires": "EXPIRES_HERE",\n                        "options": "OPTIONS_HERE",\n                        "tag": "TAG_HERE"\n                    }\n                },\n                "bintu": {}\n            },\n            {\n                "index": 2,\n                "label": "low",\n                "tag": "this is a low quality stream",\n                "info": {\n                    "bitrate": 400,\n                    "width": 426,\n                    "height": 240,\n                    "framerate": 15\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-splay.nanocosmos.de/splay",\n                        "streamname": "XXXXX-YYYY2"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live-secure.nanocosmos.de:443/h5live/authstream/stream.mp4",\n                        "hls": "https://bintu-h5live-secure.nanocosmos.de:443/h5live/authhttp/playlist.m3u8",\n                        "progressive": "https://bintu-h5live-secure.nanocosmos.de:443/h5live/authhttp/stream.mp4"\n                    },\n                    "token": "",\n                    // security for streamname XXXXX-YYYY2 here\n                    "security": {\n                        "token": "TOKEN_HERE",\n                        "expires": "EXPIRES_HERE",\n                        "options": "OPTIONS_HERE",\n                        "tag": "TAG_HERE"\n                    }\n                },\n                "bintu": {}\n            }\n        ],\n        "options": {\n            "adaption": {\n                "rule": "deviationOfMean2" // enable ABR\n            },\n            "switch": {\n                \'method\': \'server\',\n                \'pauseOnError\': false,\n                \'forcePlay\': true,\n                \'fastStart\': false,\n                \'timeout\': 10,\n            }\n        },\n        "startIndex": 2 // lowest\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.h4,{id:"example-bintu-multi-stream-configuration-with-abr",children:"Example bintu multi stream configuration (with ABR)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "entries": [ // array of \'entry\' objects\n            {\n                "index": 0,\n                "label": "high",\n                "tag": "this is a high quality stream",\n                "info": {\n                    "bitrate": 1200,\n                    "width": 1280,\n                    "height": 720,\n                    "framerate": 30\n                },\n                "hls": "",\n                "bintu": {\n                    "streamid": "XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY0"\n                }\n            },\n            {\n                "index": 1,\n                "label": "medium",\n                "tag": "this is a medium quality stream",\n                "info": {\n                    "bitrate": 800,\n                    "width": 864,\n                    "height": 480,\n                    "framerate": 30\n                },\n                "hls": "",\n                "bintu": {\n                    "streamid": "XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY1"\n                }\n            },\n            {\n                "index": 2,\n                "label": "low",\n                "tag": "this is a low quality stream",\n                "info": {\n                    "bitrate": 400,\n                    "width": 426,\n                    "height": 240,\n                    "framerate": 15\n                },\n                "hls": "",\n                "bintu": {\n                    "streamid": "XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY2"\n                }\n            }\n        ],\n        "options": {\n            "adaption": {\n                "rule": "deviationOfMean2" // enable ABR\n            },\n            "switch": {\n                \'method\': \'server\',\n                \'pauseOnError\': false,\n                \'forcePlay\': true,\n                \'fastStart\': false,\n                \'timeout\': 10,\n            }\n        },\n        "startIndex": 2 // lowest\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.h4,{id:"example-bintu-multi-stream-configuration-with-abr-and-playback-security",children:"Example bintu multi stream configuration (with ABR) and playback security"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "entries": [ // array of \'entry\' objects\n            {\n                "index": 0,\n                "label": "high",\n                "tag": "this is a high quality stream",\n                "info": {\n                    "bitrate": 1200,\n                    "width": 1280,\n                    "height": 720,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    // security for bintu streamid XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY0 here\n                    "security": {\n                        "token": "TOKEN_HERE",\n                        "expires": "EXPIRES_HERE",\n                        "options": "OPTIONS_HERE",\n                        "tag": "TAG_HERE"\n                    }\n                },\n                "bintu": {\n                    "streamid": "XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY0"\n                }\n            },\n            {\n                "index": 1,\n                "label": "medium",\n                "tag": "this is a medium quality stream",\n                "info": {\n                    "bitrate": 800,\n                    "width": 864,\n                    "height": 480,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    // security for bintu streamid XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY1 here\n                    "security": {\n                        "token": "TOKEN_HERE",\n                        "expires": "EXPIRES_HERE",\n                        "options": "OPTIONS_HERE",\n                        "tag": "TAG_HERE"\n                    }\n                },\n                "bintu": {\n                    "streamid": "XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY1"\n                }\n            },\n            {\n                "index": 2,\n                "label": "low",\n                "tag": "this is a low quality stream",\n                "info": {\n                    "bitrate": 400,\n                    "width": 426,\n                    "height": 240,\n                    "framerate": 15\n                },\n                "hls": "",\n                "h5live": {\n                    // security for bintu streamid XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY2 here\n                    "security": {\n                        "token": "TOKEN_HERE",\n                        "expires": "EXPIRES_HERE",\n                        "options": "OPTIONS_HERE",\n                        "tag": "TAG_HERE"\n                    }\n                },\n                "bintu": {\n                    "streamid": "XXXXXXXX-XXXX-XXXX-XXXX-YYYYYYYYYYY2"\n                }\n            }\n        ],\n        "options": {\n            "adaption": {\n                "rule": "deviationOfMean2" // enable ABR\n            },\n            "switch": {\n                \'method\': \'server\',\n                \'pauseOnError\': false,\n                \'forcePlay\': true,\n                \'fastStart\': false,\n                \'timeout\': 10,\n            }\n        },\n        "startIndex": 2 // lowest\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"switch-options",children:"Switch options"}),"\n",(0,s.jsxs)(n.p,{children:["There are multiple possible switch options that can be set directly over the ",(0,s.jsx)(n.code,{children:"config.source.options.switch"})," object."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Possible options"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"method"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The preferred switching method"}),"\n",(0,s.jsxs)(n.li,{children:["Possible values are ",(0,s.jsx)(n.strong,{children:"'server'"})," (default) and ",(0,s.jsx)(n.strong,{children:"'client'"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pauseOnError"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If set the player stops in case an error occurs during the process of stream switching"}),"\n",(0,s.jsxs)(n.li,{children:["Possible values are ",(0,s.jsx)(n.strong,{children:"false"})," (default) and ",(0,s.jsx)(n.strong,{children:"true"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"forcePlay"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If set the player starts the playback even though the player is in ",(0,s.jsx)(n.code,{children:"paused"})," state"]}),"\n",(0,s.jsxs)(n.li,{children:["Possible values are ",(0,s.jsx)(n.strong,{children:"false"})," and ",(0,s.jsx)(n.strong,{children:"true"})," (default)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"timeout"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The maximal time to wait in ",(0,s.jsx)(n.strong,{children:"seconds"})," before running into a timeout"]}),"\n",(0,s.jsxs)(n.li,{children:["If the time limit is reached the ",(0,s.jsx)(n.strong,{children:"error 4006"})," will be thrown inside the ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#onswitchstreamfail",children:(0,s.jsx)(n.code,{children:"onSwitchStreamFail"})})," event"]}),"\n",(0,s.jsxs)(n.li,{children:["The default value is ",(0,s.jsx)(n.strong,{children:"10"})," seconds and the possible range is between ",(0,s.jsx)(n.strong,{children:"5"})," and ",(0,s.jsx)(n.strong,{children:"30"})," seconds"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tag"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["This custom field can be any ",(0,s.jsx)(n.strong,{children:"string"})," you like and will be returned in all of the switchStream completion events. (",(0,s.jsx)(n.a,{href:"./nanoplayer_api#onswitchstreamsuccess",children:(0,s.jsx)(n.code,{children:"onSwitchStreamSuccess"})}),", ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#onswitchstreamfail",children:(0,s.jsx)(n.code,{children:"onSwitchStreamFail"})})," and ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#onswitchstreamabort",children:(0,s.jsx)(n.code,{children:"onSwitchStreamAbort"})}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["You can find more specific information on the possible options ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#nanoplayerupdatesourcesource---codepromiseltconfigerrorgtcode",children:"here"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"automatic-bitrate-adaption-abr",children:"Automatic bitrate adaption (ABR)"}),"\n",(0,s.jsx)(n.p,{children:"The nanoStream H5Live Player automatic bitrate adaption (ABR) feature decides which quality to play, to accommodate your users' network situation and avoid bufferings and frame drops."}),"\n",(0,s.jsx)(n.h3,{id:"how-to-use",children:"How to use"}),"\n",(0,s.jsx)(n.p,{children:"The following steps are required to setup the nanoStream H5Live Player with automatic bitrate adaption:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Configuration of two or more streams in ",(0,s.jsx)(n.code,{children:"config.source.entries"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["ordered by bitrate with ",(0,s.jsx)(n.strong,{children:"index zero"})," holding the ",(0,s.jsx)(n.strong,{children:"highest bitrate"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["The order is determined by the ",(0,s.jsx)(n.code,{children:"index"})," property, ",(0,s.jsx)(n.strong,{children:"not"})," by the position in the list"]}),"\n",(0,s.jsxs)(n.li,{children:["Selecting the initial stream/rendition by assigning the index to ",(0,s.jsx)(n.code,{children:"config.source.startIndex"})]}),"\n",(0,s.jsxs)(n.li,{children:["Assigning an adaption rule other than ",(0,s.jsx)(n.code,{children:"none"})," to ",(0,s.jsx)(n.code,{children:"config.source.options.adaption.rule"})]}),"\n",(0,s.jsxs)(n.li,{children:["Currently available adaption rules are:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"none"})," - Manual switching"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deviationOfMean"})," - Buffer based bitrate adaption rule"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deviationOfMean2"})," - Enhanced buffer based bitrate adaption rule (added in v4.5)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["To choose the right quality to start with highly depends on the available qualities and the use case. ",(0,s.jsx)("br",{})," A very common way is to not start with the highest (eg. medium/low) quality. Therefore there is an ",(0,s.jsx)(n.strong,{children:"intial switch up"})," mechanism that switches to a higher quality until the matching quality for the present bandwidth is found."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["This happens ",(0,s.jsx)(n.strong,{children:"only"})," on the initialization of the player and won't happen if you chose to start with the highest quality (index 0) by default."]})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-abr-settings",children:"Advanced ABR settings"}),"\n",(0,s.jsx)(n.h4,{id:"quality-omission",children:"Quality Omission"}),"\n",(0,s.jsx)(n.p,{children:"The ABR Stream Omission allows users to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Specify an arbitrary subset of streams to be omitted from automatic bitrate adaptation"}),"\n",(0,s.jsx)(n.li,{children:"Maintain full flexibility in manual stream selection"}),"\n",(0,s.jsx)(n.li,{children:"Provide precise control over stream quality ranges"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Potential use case:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"omit high or low quality depending on expected bandwith conditions e.g. mobile vs desktop"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Configuration:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"source.options.adaption.omitRenditions"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": Array of strings or numbers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Possible Values"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Quality strings","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'"high"'})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'"medium-high"'})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'"medium"'})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'"medium-low"'})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'"low"'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Numeric Indices:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["integer between ",(0,s.jsx)(n.code,{children:"0"})," (typically corresponds to highest quality) and ",(0,s.jsx)(n.code,{children:"config.source.entries.length - 1"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Index Mapping:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The stream index mapping ensures consistent and predictable stream selection across different stream configurations"}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"Number of Streams"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"high"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"medium-high"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"medium"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"medium-low"}),(0,s.jsx)(n.th,{style:{textAlign:"center"},children:"low"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"0"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"0"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"0"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"4"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"0"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"5"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"0"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"1"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"2"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"3"}),(0,s.jsx)(n.td,{style:{textAlign:"center"},children:"4"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"qualities"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'var config = {\n    "source": {\n        "group": {\n            "id": \'xxxxxxxx-zzzz-yyy-aaaa-aaabbbcccddd\',\n            "startQuality": \'low\'\n        },\n        "options": {\n            "adaption": {\n                // Omit highest quality from ABR\n                "omitRenditions": ["high"]\n            }\n        }\n    }\n};\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"indexes"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'var config = {\n    "source": {\n        "entries": [\n            ...\n        ],\n        "options": {\n            "adaption": {\n                "rule": "deviationOfMean2"\n                // Omit highest rendition (highest quality, "high")\n                "omitRenditions": [0]\n            }\n        },\n        "startIndex" : 2\n    }\n};\n'})}),"\n",(0,s.jsx)(n.h4,{id:"quality-down-switch-adjustment",children:"Quality Down Switch Adjustment"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"downStep"})," parameter specifies the minimum number of quality steps included in an ABR (Adaptive Bitrate) down switch, applicable only when the ",(0,s.jsx)(n.code,{children:"adaption.rule"})," is set to ",(0,s.jsx)(n.code,{children:"'deviationOfMean'"})," or ",(0,s.jsx)(n.code,{children:"'deviationOfMean2'"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Configuration:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"source.options.adaption.downStep"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type"}),": Number"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Possible Values"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["integer between ",(0,s.jsx)(n.code,{children:"1"})," (default) and ",(0,s.jsx)(n.code,{children:"config.source.entries.length - 1"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-multi-stream-configuration-with-abr-1",children:"Example multi stream configuration (with ABR)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'var config = {\n    "source" : {\n        "entries": [ // array of \'entry\' objects\n            {\n                "index": 0,\n                "label": "high",\n                "tag": "this is a high quality stream",\n                "info": {\n                    "bitrate": 1200,\n                    "width": 1280,\n                    "height": 720,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYY0"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            },\n            {\n                "index": 1,\n                "label": "medium",\n                "tag": "this is a medium quality stream",\n                "info": {\n                    "bitrate": 800,\n                    "width": 864,\n                    "height": 480,\n                    "framerate": 30\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYY1"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            },\n            {\n                "index": 2,\n                "label": "low",\n                "tag": "this is a low quality stream",\n                "info": {\n                    "bitrate": 400,\n                    "width": 426,\n                    "height": 240,\n                    "framerate": 15\n                },\n                "hls": "",\n                "h5live": {\n                    "rtmp": {\n                        "url": "rtmp://bintu-play.nanocosmos.de/play",\n                        "streamname": "XXXXX-YYYY2"\n                    },\n                    "server": {\n                        "websocket": "wss://bintu-h5live.nanocosmos.de:443/h5live/stream.mp4",\n                        "hls": "https://bintu-h5live.nanocosmos.de:443/h5live/http/playlist.m3u8",\n                        "progressive": "https://bintu-h5live.nanocosmos.de:443/h5live/http/stream.mp4"\n                    },\n                    "token": "",\n                    "security": {}\n                },\n                "bintu": {}\n            }\n        ],\n        "options": {\n            "adaption": {\n                "rule": "deviationOfMean2" // enable ABR\n            },\n            "switch": {\n                \'method\': \'server\',\n                \'pauseOnError\': false,\n                \'forcePlay\': true,\n                \'fastStart\': false,\n                \'timeout\': 10,\n            }\n        },\n        "startIndex": 2 // lowest\n    },\n    "playback": {\n        ...\n    },\n    "style": {\n        ...\n    }\n};\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["In case you either provide an invalid ",(0,s.jsx)(n.code,{children:"startIndex"})," or don't provide one at all the player starts the stream with index 0. ",(0,s.jsx)("br",{}),"\nThe player will set the default adaption rule none if no adaption rule is passed. You can still switch between your pre-configured entries manually with the switchStream API."]})}),"\n",(0,s.jsx)(n.h2,{id:"switchstream-api",children:"switchStream API"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"switchStream"})," feature enables the application/viewer to perform stream switches on the pre-configured stream list by referencing the index property of the target stream entry."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["You can find more information on the switchStream API in our ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#nanoplayerswitchstreamindex-%E2%87%92-codepromiseltconfigerrorgtcode",children:"API documentation"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"how-to-use-1",children:"How to use"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Configuration of two or more streams in ",(0,s.jsx)(n.code,{children:"config.source.entries"})]}),"\n",(0,s.jsxs)(n.li,{children:["Selecting the initial stream by assigning the index to ",(0,s.jsx)(n.code,{children:"config.source.startIndex"})]}),"\n",(0,s.jsxs)(n.li,{children:["Assigning the adaption rule ",(0,s.jsx)(n.code,{children:"none"})," to ",(0,s.jsx)(n.code,{children:"config.source.options.adaption.rule"})]}),"\n",(0,s.jsxs)(n.li,{children:["Applying switches by calling ",(0,s.jsx)(n.code,{children:"switchStream(index)"})," with the index of the target stream entry"]}),"\n",(0,s.jsxs)(n.li,{children:["Listening to related event notifications","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"onSwitchStreamInit"}),"\n",(0,s.jsx)(n.li,{children:"onSwitchStreamSuccess"}),"\n",(0,s.jsx)(n.li,{children:"onSwitchStreamAbort"}),"\n",(0,s.jsx)(n.li,{children:"onSwitchStreamFail"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.p,{children:["Manual switching via switchStream API will disable any further ABR controlled behavior. Use the ",(0,s.jsx)(n.a,{href:"#setadaption-api",children:"setAdaption API"})," to again reinitialize the automatic adaption. You can read more on how to combine automatic and manual switching ",(0,s.jsx)(n.a,{href:"#combined-abr-and-manual-switching",children:"here"}),"."]})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example switchStream call:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:"player.switchStream(1).then(function (config) {\n    console.log('switch stream initialized with config: ' + JSON.stringify(config));\n}, function (error) {\n    console.log(error);\n});\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The switchStream API returns a promise that is rejected if the provided ",(0,s.jsx)(n.code,{children:"index"})," parameter is out of range."]})}),"\n",(0,s.jsx)(n.h3,{id:"switchstream-events",children:"switchStream events"}),"\n",(0,s.jsxs)(n.p,{children:["With the release of the ",(0,s.jsx)(n.code,{children:"switchStream"})," API there are also ",(0,s.jsx)(n.strong,{children:"4"})," new events you should listen to:"]}),"\n",(0,s.jsx)(n.h4,{id:"start-event",children:"Start Event"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./nanoplayer_api#onswitchstreaminit",children:"onSwitchStreamInit"})}),": This event signals an initialized switch stream request. This is ",(0,s.jsx)(n.strong,{children:"only"})," a start event that will be followed by one of the completion events."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"completion-events",children:"Completion Events"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"nanoplayer_api#onswitchstreamsuccess",children:"onSwitchStreamSuccess"})}),": This event signals a successful switch stream request and fires if the stream was switched."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"nanoplayer_api#onswitchstreamfail",children:"onSwitchStreamFail"})}),": This event signals a failed switch stream request. Fired if an error occurs during the stream switch."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"nanoplayer_api#onswitchstreamabort",children:"onSwitchStreamAbort"})}),": This event signals an aborted switch stream request. Possible reasons are an equal source (",(0,s.jsx)(n.strong,{children:"'equalsource'"}),"), a superseding (",(0,s.jsx)(n.strong,{children:"'superseded'"}),") or the time difference between two following ",(0,s.jsx)(n.code,{children:"switchStream"})," calls that is too small  (",(0,s.jsx)(n.strong,{children:"'frequency'"}),")."]}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(n.admonition,{title:"Also, keep in mind...",type:"tip",children:(0,s.jsxs)(n.p,{children:["...there will be an ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#onstreaminfo",children:(0,s.jsx)(n.code,{children:"onStreamInfo"})})," event indicating that the first image of the new stream is getting played out."]})}),"\n",(0,s.jsx)(n.h3,{id:"difference-switchstream-api--updatesource-api",children:"Difference switchStream API / updateSource API"}),"\n",(0,s.jsxs)(n.p,{children:["The switchStream API allows to only choose between the pre-configured stream list (",(0,s.jsx)(n.code,{children:"config.source.entries"}),") by referencing the index of the entry while the updateSource API replaces the entire source (",(0,s.jsx)(n.code,{children:"config.source"}),") with a new source."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Click here to get more information on the ",(0,s.jsx)(n.a,{href:"./nanoplayer_update_source",children:"updateSource API"})]})}),"\n",(0,s.jsx)(n.h2,{id:"setadaption-api",children:"setAdaption API"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"setAdaption"})," feature enables the application/viewer to change the adaption rule eg. from manually controlled to automatic switching behavior."]}),"\n",(0,s.jsx)(n.p,{children:"Currently available adaption rules are:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"none"})," - Manual switching"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deviationOfMean"})," - Buffer based bitrate adaption rule"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deviationOfMean2"})," - Enhanced buffer based bitrate adaption rule (added in v4.5)"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["You can find more information on the setAdaption API in our ",(0,s.jsx)(n.a,{href:"./nanoplayer_api#nanoplayersetadaptionadaption",children:"API documentation"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"example-to-set-automatic-adaption",children:"Example to set automatic adaption"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:"showLineNumbers",children:'// Player instance of NanoPlayer\nvar adaption = {\n    "rule": "deviationOfMean2"\n}\n\nplayer.setAdaption(adaption);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"combined-abr-and-manual-switching",children:"Combined ABR and manual switching"}),"\n",(0,s.jsx)(n.p,{children:"In case the nanoStream H5Live Player is configured to use ABR and a manual switch gets initialized via the switchStream API the automatic adaption is stopped. From this moment on the switching behavior is manually controlled."}),"\n",(0,s.jsxs)(n.p,{children:["To again reinitialize the automatic adaption use the ",(0,s.jsx)(n.a,{href:"#setadaption-api",children:"setAdaption API"})," with the name of the rule you want to set (eg. ",(0,s.jsx)(n.code,{children:"deviationOfMean2"}),")."]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var i=t(96540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);