"use strict";(self.webpackChunknanocosomos_documentation=self.webpackChunknanocosomos_documentation||[]).push([[2081],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>s});var o=i(96540);const a={},t=o.createContext(a);function r(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(t.Provider,{value:n},e.children)}},96908:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"nanoplayer/nanoplayer_webview","title":"Mobile WebViews","description":"H5Live Player works on native browsers like Safari on iOS and Chrome on Android.","source":"@site/docs/nanoplayer/nanoplayer_webview.md","sourceDirName":"nanoplayer","slug":"/nanoplayer/nanoplayer_webview","permalink":"/docs/nanoplayer/nanoplayer_webview","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1751618628000,"frontMatter":{"id":"nanoplayer_webview","title":"Mobile WebViews","sidebar_label":"Mobile WebViews"},"sidebar":"H5Live Player","previous":{"title":"iframe Embeds","permalink":"/docs/nanoplayer/nanoplayer_iframe"},"next":{"title":"Autoplay","permalink":"/docs/nanoplayer/nanoplayer_autoplay"}}');var a=i(74848),t=i(28453);const r={id:"nanoplayer_webview",title:"Mobile WebViews",sidebar_label:"Mobile WebViews"},s=void 0,l={},d=[{value:"Mobile Webviews",id:"mobile-webviews",level:3},{value:"Webview Loading Recommendations",id:"webview-loading-recommendations",level:4},{value:"Local Loading:",id:"local-loading",level:5},{value:"Remote Loading (Recommended):",id:"remote-loading-recommended",level:5},{value:"Platform-Specific Considerations",id:"platform-specific-considerations",level:4},{value:"Android",id:"android",level:5},{value:"iOS",id:"ios",level:5}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"H5Live Player works on native browsers like Safari on iOS and Chrome on Android.\nFor native apps, you can use WebView components in-app, which both operating systems support.\nThe operating systems need to support H264 video and AAC audio formats for playback, which most platforms do."}),"\n",(0,a.jsx)(n.h3,{id:"mobile-webviews",children:"Mobile Webviews"}),"\n",(0,a.jsxs)(n.p,{children:["Mobile webviews provide a seamless integration of web content within a native mobile application, offering numerous advantages for a smooth user experience. However, certain considerations need to be addressed, particularly on ",(0,a.jsx)(n.a,{href:"#ios",children:"iOS"})," and Android ",(0,a.jsx)(n.a,{href:"#android",children:"Android"})," devices."]}),"\n",(0,a.jsx)(n.h4,{id:"webview-loading-recommendations",children:"Webview Loading Recommendations"}),"\n",(0,a.jsx)(n.p,{children:"When integrating web content into mobile applications using webviews, it must consider whether to load content locally or remotely:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.h5,{id:"local-loading",children:"Local Loading:"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Local loading involves loading web content from a local file or resource bundled within the application. This method is specific to the device's file system or bundled resources. Loading web content locally within a webview may encounter restrictions due to security policies and sandboxing mechanisms imposed by the operating system. Examples include loading pages included in the app's bundle or using file:// URLs."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.h5,{id:"remote-loading-recommended",children:"Remote Loading (Recommended):"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Remote loading involves fetching web content from a remote server or external source over the internet using standard HTTP or HTTPS protocols. Utilizing webviews with remote pages offers enhanced performance, flexibility, and compatibility with various web technologies. By loading content remotely, it can ensure access to the latest updates, dynamic content, and external resources, avoiding potential issues associated with local loading."}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"We strongly recommend utilizing webviews with remote pages to leverage their benefits, including enhanced performance and flexibility. This approach ensures compatibility with various web technologies and allows for seamless integration of dynamic content."})}),"\n",(0,a.jsx)(n.h4,{id:"platform-specific-considerations",children:"Platform-Specific Considerations"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.h5,{id:"android",children:"Android"}),"\n",(0,a.jsx)(n.p,{children:"Android webviews generally offer robust support for web technologies and extensions. However, it's important to consider the specific APIs and features required by your web content to ensure compatibility across different Android versions and device configurations."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Example of configuring a WebView in an Android appication with autoplay:\nFor enabling autoplay in Android, the webview settings can be configured to allow autoplay of media content. This can be achieved by setting the appropriate attributes or properties in the webview configuration. One approach to enabling autoplay in Android webviews is by adjusting the webview settings programmatically. Below is an example of how to achieve autoplay in an Android webview using JavaScript:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"webView.getSettings().setMediaPlaybackRequiresUserGesture(false); // enables autoplay\n"})}),"\n",(0,a.jsxs)(n.p,{children:["For more detailed information and additional options regarding webview configuration in Android, please refer to the official Android documentation on webview settings ",(0,a.jsx)(n.a,{href:"https://developer.android.com/reference/android/webkit/WebSettings",children:"the official Android documentation on webview settings"}),"."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.h5,{id:"ios",children:"iOS"}),"\n",(0,a.jsx)(n.p,{children:"In some cases, particularly when utilizing local pages with the Managed Media Source Extension (MMSE) API introduced by Apple in iOS 17.1, playback on iOS devices may encounter issues when loaded within a webview. This issue arises due to the interaction of webviews with certain APIs and extensions, leading to limitations in the playback experience. To mitigate this issue, we recommend using remote loading, which can help avoid compatibility issues and ensure smoother playback on iOS devices."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Example of configuring a WKWebView instance in an iOS application to load a remote page:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'//  ViewController.swift\n//  wkwebview\n\n\nimport UIKit\nimport WebKit\n\nclass ViewController: UIViewController, WKNavigationDelegate {\n    var webView: WKWebView!\n\n    override func loadView() {\n        let webConfiguration = WKWebViewConfiguration()\n        webConfiguration.preferences.javaScriptEnabled = true\n        webConfiguration.mediaPlaybackRequiresUserAction = false\n        webConfiguration.allowsInlineMediaPlayback = true\n        webConfiguration.mediaTypesRequiringUserActionForPlayback = []\n        webView = WKWebView(frame: .zero, configuration: webConfiguration)\n        webView.navigationDelegate = self\n\n        // develop only - necessary for debugging\n        if #available(iOS 16.4, *) {\n            webView.isInspectable = true\n        } else {\n            // Fallback on earlier versions\n        }\n\n\n        view = webView\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        let url = URL(string: \u201chttps://your-page.com")!\n        webView.load(URLRequest(url: url))\n        webView.allowsBackForwardNavigationGestures = true\n    }\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);